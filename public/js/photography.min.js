!function(){function e(e,t){var a=new Image;a.onload=t,a.src=e}function t(t){if(t.getBoundingClientRect().top<window.innerHeight+500){var a=t.getAttribute("data-thumb");e(a,function(){t.style.backgroundImage="url("+a+")",t.classList.remove("Gallery-image--preview")})}}function a(t){clearTimeout(i);var a=t.getAttribute("data-thumb"),l=t.getAttribute("data-full");t.getAttribute("data-loaded")<r?(o.style.backgroundImage="url("+a+")",e(l,function(){setTimeout(function(){o.style.backgroundImage="url("+l+")",t.setAttribute("data-loaded",r)},500)})):o.style.backgroundImage="url("+l+")";var n=t.getBoundingClientRect();o.style.width=n.width+"px",o.style.height=n.height+"px",o.style.top=n.top+"px",o.style.left=n.left+"px",o.clientHeight,o.classList.add("Gallery-viewer--open")}function l(){o.classList.add("Gallery-viewer--closing"),o.classList.remove("Gallery-viewer--open"),i=setTimeout(function(){o.classList.remove("Gallery-viewer--closing"),o.style.backgroundImage="",o.style.width="",o.style.height="",o.style.top="",o.style.left=""},500)}var i,n=1,r=3,o=document.querySelector(".Gallery-viewer");Array.prototype.slice.call(document.querySelectorAll("[data-preview]")).forEach(function(l){var i=l.getAttribute("data-preview");l.classList.add("Gallery-image--preview"),e(i,function(){l.getAttribute("data-loaded")<n&&(l.style.backgroundImage="url("+i+")",l.setAttribute("data-loaded",n),t(l))}),l.addEventListener("click",function(e){a(l),e.preventDefault()})}),o.addEventListener("click",l),window.addEventListener("scroll",function(e,t,a){var l;return function(){var i=this,n=arguments,r=a&&!l;clearTimeout(l),l=setTimeout(function(){l=null,a||e.apply(i,n)},t),r&&e.apply(i,n)}}(function(){Array.prototype.slice.call(document.querySelectorAll('[data-loaded="'+n+'"]')).forEach(t)},50)),document.addEventListener("keyup",function(e){27===e.keyCode&&o.classList.contains("Gallery-viewer--open")&&(l(),e.preventDefault())})}();
//# sourceMappingURL=photography.min.js.map
