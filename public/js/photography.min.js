!function(){function e(e,t){var l=new Image;l.onload=t,l.src=e}function t(){Array.prototype.slice.call(document.querySelectorAll(".Gallery-image--preview")).forEach(function(t){if(t.getBoundingClientRect().top<window.innerHeight+500){var l=t.getAttribute("data-thumb");e(l,function(){t.style.backgroundImage="url("+l+")",t.classList.remove("Gallery-image--preview")})}})}function l(t){clearTimeout(i);var l=t.getAttribute("data-thumb"),a=t.getAttribute("data-full");t.hasAttribute("data-loaded")?n.style.backgroundImage="url("+a+")":(n.style.backgroundImage="url("+l+")",e(a,function(){setTimeout(function(){n.style.backgroundImage="url("+a+")",t.setAttribute("data-loaded","")},500)}));var r=t.getBoundingClientRect();n.style.width=r.width+"px",n.style.height=r.height+"px",n.style.top=r.top+"px",n.style.left=r.left+"px",n.clientHeight,n.classList.add("Gallery-viewer--open")}function a(){n.classList.add("Gallery-viewer--closing"),n.classList.remove("Gallery-viewer--open"),i=setTimeout(function(){n.classList.remove("Gallery-viewer--closing"),n.style.backgroundImage="",n.style.width="",n.style.height="",n.style.top="",n.style.left=""},500)}var i,n=document.querySelector(".Gallery-viewer");Array.prototype.slice.call(document.querySelectorAll("[data-preview]")).forEach(function(t){var a=t.getAttribute("data-preview");t.classList.add("Gallery-image--preview"),e(a,function(){t.style.backgroundImage="url("+a+")"}),t.addEventListener("click",function(e){l(t),e.preventDefault()})}),t(),n.addEventListener("click",a),window.addEventListener("scroll",function(e,t,l){var a;return function(){var i=this,n=arguments,r=l&&!a;clearTimeout(a),a=setTimeout(function(){a=null,l||e.apply(i,n)},t),r&&e.apply(i,n)}}(t,50)),document.addEventListener("keyup",function(e){27===e.keyCode&&n.classList.contains("Gallery-viewer--open")&&(a(),e.preventDefault())})}();
//# sourceMappingURL=photography.min.js.map
